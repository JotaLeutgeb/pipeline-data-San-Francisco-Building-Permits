# San Francisco Building Permits Data Pipeline

## Context
A building permit is an official approval document issued by a governmental agency that allows you or your contractor to proceed with a construction or remodeling project on one's property. Each city or county has its own office related to buildings, that can do multiple functions like issuing permits, inspecting buildings to enforce safety measures, modifying rules to accommodate needs of the growing population etc

---

## Project Structure

The repository is organized as follows:

* **/configs**: Contains configuration scripts.
* **/data**: Holds all data used and generated by the pipeline.
    * **/source**: For raw CSV files.
    * **/raw**: Contains the unified data.
    * **/processed**: Will contain the final, clean data.
* **/src**: Includes scripts for data processing and cleaning.
* **/tests**: Contains unit tests to ensure code quality.
* **.gitignore**: Specifies files and directories that Git should ignore.
* **requirements.txt**: Lists the project dependencies.

---

## Data

The dataset contains detailed information about building permits in San Francisco.

### Data Dictionary

| Column | Description |
| :--- | :--- |
| Permit Number | Number assigned upon application submission. |
| Permit Type | Numeric representation of the permit type. |
| Permit Type Definition | Description of the permit type. |
| Permit Creation Date | Date the permit was created. |
| Block | Address-related information. |
| Lot | Address-related information. |
| Street Number | Address-related information. |
| Street Number Suffix | Address suffix, if any. |
| Street Name | Name of the street. |
| Street Name Suffix | Street name suffix, if any. |
| Unit | Unit within a building. |
| Unit suffix | Unit suffix, if any. |
| Description | Details about the purpose of the permit. |
| Current Status | Current status of the permit application. |
| Current Status Date | Date the current status was recorded. |
| Filed Date | Date the permit was filed. |
| Issued Date | Date the permit was issued. |
| Completed Date | Date the project was completed. |
| First Construction Document Date | Date construction was first documented. |
| Structural Notification | Notification to comply with a legal requirement. |
| Number of Existing Stories | Number of existing floors in the building. |
| Number of Proposed Stories | Number of proposed floors for construction/alteration. |
| Voluntary Soft-Story Retrofit | "Soft story" to comply with seismic regulations. |
| Fire Only Permit | Permit related to fire prevention. |
| Permit Expiration Date | Expiration date of the issued permit. |
| Estimated Cost | Initial estimate of the project cost. |
| Revised Cost | Revised estimate of the project cost. |
| Existing Use | Existing use of the building. |
| Existing Units | Number of existing units. |
| Proposed Use | Proposed use of the building. |
| Proposed Units | Number of proposed units. |
| Plansets | Plan representation indicating the overall design intent. |
| TIDF Compliance | Compliance or non-compliance with TIDF, a new legal requirement. |
| Existing Construction Type | Existing construction type, numerically represented. |
| Existing Construction Type Description | Description of the existing construction type. |
| Proposed Construction Type | Proposed construction type, numerically represented. |
| Proposed Construction Type Description | Description of the proposed construction type. |
| Site Permit | Permit for the site. |
| Supervisor District | Supervisory district to which the building's location belongs. |
| Neighborhoods - Analysis Boundaries | Neighborhood to which the building's location belongs. |
| Zipcode | Zip code of the building's address. |
| Location | Location as a latitude and longitude pair. |
| Record ID | A record ID. |

---

## Installation

To run this project, clone the repository and install the dependencies:

```bash
git clone [https://github.com/jotaleutgeb/pipeline-data-san-francisco-building-permits.git](https://github.com/jotaleutgeb/pipeline-data-san-francisco-building-permits.git)
cd pipeline-data-san-francisco-building-permits
pip install -r requirements.txt
```

## Usage
The pipeline can be run to perform various data processing tasks.

## Data Cleaning
The `src/data_cleaning.py` script standardizes column names by converting them to ASCII, lowercasing them, and replacing non-alphanumeric characters with underscores.

## Testing
The project includes tests to ensure code quality. The `tests/test_data_cleaning.py` file verifies that the column standardization function works correctly.

## Configuration
Project configuration is managed in the `configs/config.py` file. This file defines paths to the data and source directories. It also loads environment variables, such as database credentials and API keys, from a .env file.

## License
This project does not have a license.
